<div class="p-col p-mt-2 p-grid">
    <div class="p-d-flex p-flex-column" style="padding: 10vw;width: 100%;" *ngIf="loaderenable">
        <div id="scInnerLoader"></div>
        <div id="scInnerLoaderText">Loading...</div>
    </div>


    <div class="p-col-12 p-shadow-10" *ngIf="!loaderenable">


        <div class="p-col p-grid p-ai-center">
            <div class="p-col-4 p-grid p-ai-center">
                <h5 class="error">Users : </h5>
                <p-multiSelect class="p-col p-fluid cls_sourceUser" [options]="sourceUsersArray" defaultLabel="Select User" [(ngModel)]="sourceUsers" (keydown.enter)="$event.preventDefault()" filter="true" resetFilterOnHide="true" (onPanelHide)="onSourceUsersChange()">
                </p-multiSelect>
            </div>
            <div class="p-col-5 p-grid p-ai-center">
                <h5 class="error">Copy/Add Permission : </h5>
                <p-dropdown class="p-col p-fluid cls_destinationUser" [options]="destinationUsersArray" [(ngModel)]="destinationUser" filter="true" resetFilterOnHide="true" placeholder='Select User' (onChange)="onDestinationUserChange()" [showClear]="true">
                </p-dropdown>
            </div>
            <div class="p-col p-grid p-jc-center">
                <p-splitButton label="Add Permission" icon="pi pi-plus-circle" (onClick)="addPermission()" [model]="buttons" class="cls_savePermission" styleClass="p-col p-p-1 p-grid p-button-danger">
                </p-splitButton>
            </div>
        </div>
        <div class="p-col p-grid" *ngIf="showTables">
            <div class="p-col-4 p-grid">
                <p-table #sourceTable [value]="viewArray.sourceGroupsArray" [paginator]="viewArray.sourceGroupsArray && viewArray.sourceGroupsArray.length > 0 ? true : false" [rows]="25" [rowsPerPageOptions]="[25,50]" [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords}"
                    styleClass="p-datatable-cactus p-datatable-gridlines">
                    <ng-template pTemplate="header">
                        <tr>

                            <th>Source Groups</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
                        <tr>

                            <td class="error">
                                {{ rowIndex+1 }}. {{rowData}}
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage" let-rowData>
                        <tr>
                            <td>
                                No Permission in source groups
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
            <div class="p-col-5 p-grid">
                <p-table #destinationTable [value]="viewArray.destinationGroupsArray" [paginator]="viewArray.destinationGroupsArray && viewArray.destinationGroupsArray.length > 0 ? true : false" [rows]="25" [rowsPerPageOptions]="[25,50]" [showCurrentPageReport]="true"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords}" styleClass="p-datatable-cactus p-datatable-gridlines">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Destination Groups</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
                        <tr>
                            <td class="error">
                                {{ rowIndex+1 }}. {{rowData}}
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage" let-rowData>
                        <tr>
                            <td>
                                No Permission in destination groups
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
            <div class="p-col p-grid">
                <p-table #resultTable [value]="viewArray.finalResultArray" [paginator]="viewArray.finalResultArray && viewArray.finalResultArray.length > 0 ? true : false" [rows]="25" [rowsPerPageOptions]="[25,50]" [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords}"
                    styleClass="p-datatable-cactus p-datatable-gridlines">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Results Groups</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
                        <tr>
                            <td class="error">
                                {{ rowIndex+1 }}. {{rowData}}
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage" let-rowData>
                        <tr>
                            <td>
                                No Results
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
</div>